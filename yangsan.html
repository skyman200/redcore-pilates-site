<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>REDCORE Pilates - Yangsan</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="hero">
    <div class="overlay-left"></div>
    <div class="content">
      <h1 class="title">레드코어 양산점<br/><span class="subtitle">REDCORE YANGSAN</span></h1>
      <div id="posts"></div>
      <a href="index.html" class="btn secondary" style="margin-top: 12px;">홈으로 돌아가기</a>
    </div>
    <div class="hero-bg"></div>
  </div>
  <script>
    async function fetchPosts() {
      const proxyUrl = 'https://api.allorigins.win/get?url=' + encodeURIComponent('https://rss.blog.naver.com/redcore2021.xml');
      try {
        const res = await fetch(proxyUrl);
        const data = await res.json();
        const parser = new DOMParser();
        const xml = parser.parseFromString(data.contents, 'text/xml');
        const items = Array.from(xml.querySelectorAll('item'));
        const postsDiv = document.getElementById('posts');
        const list = document.createElement('ul');
        list.style.listStyleType = 'none';
        items.forEach(item => {
          const category = item.querySelector('category')?.textContent || '';
          if (category.includes('YANGSAN')) {
            const title = item.querySelector('title').textContent;
            const link = item.querySelector('link').textContent;
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = link;
            a.textContent = title;
            a.style.display = 'block';
            a.style.color = '#ffffff';
            a.style.margin = '8px 0';
            a.target = '_blank';
            li.appendChild(a);
            list.appendChild(li);
          }
        });
        if (list.children.length === 0) {
          postsDiv.innerHTML = '<p>게시글이 없습니다.</p>';
        } else {
          postsDiv.appendChild(list);
        }
      } catch (error) {
        console.error('Error fetching posts', error);
      }
    }
    fetchPosts();
  </script>
</body>
</html>
